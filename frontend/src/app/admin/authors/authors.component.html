
<!-- <app-admin></app-admin> -->
<h1 class="text-center font-weight-bold mt-3 ">
  Authours
</h1>
<br>
<div class="table-responsive ">
<table class="table table-hover table-bordered  border-1 shadow">
  <!-- <table class="table table-hover  shadow"> -->
  <thead class="thead-dark bg-dark text-white">
    <tr>
      <th scope="col">#</th>
      <th scope="col">First</th>
      <th scope="col">Last</th>
      <th scope="col">Date Of Birth</th>
      <th scope="col">Image</th>
      <th scope="col">Action</th>
     
    </tr>
  </thead>
  <tbody>

    <tr *ngFor="let author of authors; let i= index;">
      <th scope="row">{{i+1}}</th>
      <td>{{author.firstName}}</td>
      <td>{{author.lastName}}</td>
      <td>{{author.dateOfBirth.split('T')[0]}}</td>
      <td><img src="{{author.imageUrl}}" width="100" alt=""></td>

      <td><button class="btn btn-warning m-2" (click)="openUpdateModal(author._id)">edit</button>
         <button class="btn btn-danger m-2" (click)="del(i,author._id)">delete</button></td>
    
    </tr>
   
  </tbody>

</table>
</div>

<!-- <button type="button" class="btn btn-dark btn-lg m-2"  routerLinkActive="active-link" routerLink="admin">Back to admin panel</button> -->
<!-- Button trigger modal -->

<button type="button" class="btn btn-dark btn-lg" (click)="openModal()">click to add</button>
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':display}">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Model Title</h4>
        <button type="button" class="close btn" aria-label="Close" (click)="onCloseHandled()"><span
            aria-hidden="true">&times;</span></button>
      </div>
      <div class="modal-body">
        <form action="" method="post" enctype="multipart/form-data" #authorForm="ngForm"
          (ngSubmit)="onCreate(authorForm.value)">
          <input class="form-control mb-3" type="text" name="firstName" ngModel placeholder="first name" id="">
          <input class="form-control mb-3" type="text" name="lastName" ngModel placeholder="last name" id="">
          <label class="form-control mb-3" for="dateOfBirth">date of birth</label>
          <input class="form-control mb-3" type="date" name="dateOfBirth" ngModel id="">

          <label for="img">Select image:</label>
          <input class="form-control mb-3" type="file" name="image" (change)="onFileSelected($event)" ngModel>


          <button class="btn btn-success" type="submit">submit</button>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" (click)="onCloseHandled()">Close</button>
      </div>
    </div>
  </div>
</div>
<!---update modal-->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayUpdate}">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Update Author</h4>
        <button type="button" class="close btn" aria-label="Close" (click)="onCloseHandledUpdate()"><span
            aria-hidden="true">&times;</span></button>
      </div>
      <div class="modal-body">
        <form action="" method="post" enctype="multipart/form-data" #updateAuthorForm="ngForm"
          (ngSubmit)="onUpdate(updateAuthorForm.value)">
          <input class="form-control mb-3" type="text" name="firstName" ngModel placeholder="first name" id="" value="{{updateAuthor.firstName}}">
          <input class="form-control mb-3" type="text" name="lastName" ngModel placeholder="last name" id="" value="{{updateAuthor.lastName}}">
          <label class="form-control mb-3" for="dateOfBirth">date of birth</label>
          <input class="form-control mb-3" type="date" name="dateOfBirth" ngModel id="" value="{{updateAuthor.dateOfBirth}}">
          <input class="form-control mb-3" type="file" name="image" (change)="onFileSelected($event)" ngModel>


          <button class="btn btn-warning mt-3" type="submit">update</button>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" (click)="onCloseHandled()">Close</button>
      </div>
    </div>
  </div>
</div>